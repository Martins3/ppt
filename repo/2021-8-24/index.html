<html>

<head>
  <link rel="stylesheet" href="../../reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="../../reveal.js/dist/theme/sky.css">
</head>

<body>
  <div class="reveal">
    <div class="slides">

      <section>
        <section>
          <h2>è£¸é‡‘å±äºŒè¿›åˆ¶ç¿»è¯‘å™¨çš„è®¾è®¡ä¸å®ç°</h2>
          <!-- <img class="r-stretch" src="../../images/obito.jpg"> -->
          <ol>
            <li>ç›®çš„</li>
            <li>èƒŒæ™¯</li>
            <li>æƒ³æ³•</li>
            <li>è®¾è®¡</li>
            <li>è¿›åº¦</li>
          </ol>
        </section>
      </section>


      <section>
        <h2>ç›®çš„</h2>

        <section>
          <li>æ¶ˆç­æŒ‡ä»¤é›†çš„å·®å¼‚</li>
        </section>

        <section>
          <li>LoongArch æ¶æ„é«˜æ•ˆè¿è¡Œå…¶ä»–æ¶æ„çš„æ“ä½œç³»ç»Ÿ</li>
        </section>

        <section>
          <li>åŠ é€Ÿ LoongArch ä¸Š x86 å®¢æˆ·æœºæ“ä½œç³»ç»Ÿè¿è¡Œ</li>
        </section>
      </section>

      <section>
        <h2>èƒŒæ™¯</h2>
        <p> Linux + QEMU å®ç°ç³»ç»Ÿæ€ç¿»è¯‘</p>
        <img class="r-stretch" src="../../images/QEMU-ARCH.svg">

        <div class="paragraph" style="font-size:0.2em">
          <p> qeme code flow
            <span class="footnote">[<a id="_footnoteref_1" class="footnote"
                href="https://vmsplice.net/~stefan/qemu-code-overview.pdf" title="View footnote.">ref</a>]</span>
          </p>
        </div>
      </section>

      <section>
        <h2>èƒŒæ™¯</h2>
        <p>Linux + QEMU å®ç°ç³»ç»Ÿæ€ç¿»è¯‘çš„å‡ ä¸ªéƒ¨åˆ†</p>
        <table class="r-stretch">
          <thead>
            <tr>
              <th>å†…å®¹</th>
              <th>äºŒè¿›åˆ¶ç¿»è¯‘æ¨¡æ‹Ÿæ–¹æ³•</th>
              <th>kvm</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>CPU</td>
              <td>tcg é€æ¡æŒ‡ä»¤ç¿»è¯‘</td>
              <td>ç¡¬ä»¶åŠ é€Ÿ, ç›¸åŒæ¶æ„æŒ‡ä»¤ç›´æ¥æ‰§è¡Œ</td>
            </tr>
            <tr>
              <td>å†…å­˜</td>
              <td>softmmu</td>
              <td>two dimension paging</td>
            </tr>
            <tr>
              <td>è®¾å¤‡ / ä¸­æ–­</td>
              <td>è®¾å¤‡æ¨¡æ‹Ÿ / virtio / <mark> VFIO</mark>
                <span class="footnote">[<a id="_footnoteref_1" class="footnote"
                    href="https://bugs.launchpad.net/qemu/+bug/1869006" title="View footnote.">ref</a>]</span>
              </td>
              <td>è®¾å¤‡æ¨¡æ‹Ÿ / virtio / VFIO</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>èƒŒæ™¯</h2>
        <p style="font-size:0.9em">Linux + QEMU å®ç°ç³»ç»Ÿæ€ç¿»è¯‘ : xqm åŠ é€Ÿ cpu è™šæ‹ŸåŒ–</p>
        <img class="r-stretch" src="../../images/tcg.svg">
        <p style="font-size:0.5em">ä¸ºäº†å®ç°å¤šä¸ªæ¶æ„ä¹‹é—´äº’ç›¸ç¿»è¯‘ï¼ŒQEMU é‡‡ç”¨äº† tcg ir, ä½†æ˜¯è¿™å¯¼è‡´äº†ç¿»è¯‘è´¨é‡ä¸‹é™ã€‚<br>è€Œ x86-qemu-mips é¡¹ç›®å°† tcg ç§»é™¤æ‰äº†ã€‚</p>
      </section>

      <section>
        <h2>èƒŒæ™¯</h2>
        <p>Linux + QEMU å®ç°ç³»ç»Ÿæ€ç¿»è¯‘ : hamt åŠ é€Ÿè®¿å­˜</p>
        <img class="r-stretch" src="../../images/hamt.svg">
        <p style="font-size:0.5em">åˆ©ç”¨ dune å¯ä»¥å°† QEMU æ”¾åˆ° guest æ€, ä»è€Œ QEMU å¯ä»¥ç›´æ¥è®¿é—® TLB æ¥åŠ é€Ÿè®¿å­˜</p>
      </section>


      <section>
        <h2>æƒ³æ³•</h2>
        <img class="r-stretch" src="../../images/LKM.svg">
        <div class="paragraph" style="font-size:0.2em">
          <p>Linux Kernel Maps
            <span class="footnote">[<a id="_footnoteref_1" class="footnote"
                href="https://makelinux.github.io/kernel/map/" title="View footnote.">ref</a>]</span>
          </p>
        </div>
        <p style="font-size:0.5em">Linux å†…æ ¸å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯å¯¹äºç³»ç»Ÿæ€äºŒè¿›åˆ¶ç¿»è¯‘å™¨è€Œè¨€ï¼Œå¤§å¤šæ•°åŠŸèƒ½ä¸éœ€è¦ï¼Œå…¶ä»–çš„è¿›ç¨‹å¯¹äº QEMU è€Œè¨€æ˜¯åªæ˜¯å¹²æ‰°</p>
      </section>

      <section>
        <h2>æƒ³æ³•</h2>
        <img class="r-stretch" src="../../images/qemu-loc.png">
        <p style="font-size:0.5em">QEMU å¯ä»¥è¿è¡Œåœ¨å„ç§æ“ä½œç³»ç»Ÿä¸Šï¼Œæ”¯æŒ kvm tcg hvf xen ç­‰ cpu è™šæ‹ŸåŒ–æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§è®¾å¤‡çš„æ¨¡æ‹Ÿã€‚ä½†æ˜¯æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªåœ¨ LoongArch
          ä¸Šè¿è¡Œçš„äºŒè¿›åˆ¶ç¿»è¯‘å™¨ã€‚</p>
      </section>

      <section>
        <h2>æƒ³æ³•</h2>
        <p>unikernel: åªä¸ºä¸€ä¸ªè¿›ç¨‹æœåŠ¡çš„ guest os</p>
        <div class="r-stretch">
          <img class="fragment"
            src="https://raw.githubusercontent.com/cetic/unikernels/master/MEDIA/normal_application_stack.PNG">
          <img class="fragment"
            src="https://raw.githubusercontent.com/cetic/unikernels/master/MEDIA/unikernel_application_stack.PNG">
        </div>
      </section>

      <section>
        <h2>æƒ³æ³•</h2>
        æ„å»ºä¸€ä¸ªé’ˆå¯¹äº QEMU çš„ unikernel
        <img class="r-stretch" src="../../images/qemu-in-unikernel.svg">
        <div class="text-left">
          <ul>
            <li style="font-size:0.5em">æ„å»ºä¸€ä¸ª unikernelï¼Œå…¶ä¸­åªæ˜¯è¿è¡Œ QEMU</li>
            <li style="font-size:0.5em">QEMU è¿è¡Œåœ¨ kernel æ€, ä»è€Œå¯ä»¥ç›´æ¥ä½¿ç”¨è®¿é—® TLB æ¥åŠ é€Ÿè®¿å­˜</li>
          </ul>
        </div>
      </section>


      <section>
        <h2>æƒ³æ³•</h2>
        <p>Transmeta</p>

        <img class="r-stretch" src="../../images/transmeta.png">

        <p style="font-size:0.5em">
          Transmeta å…¬å¸æ¨å‡ºçš„ Crusoe VLIW èŠ¯ç‰‡ï¼Œå…¶åˆ©ç”¨ Code Morphing Software (CMS)
          å°† X86 æŒ‡ä»¤ç¿»è¯‘ä¸º VLIW æŒ‡ä»¤ï¼Œå¹¶ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ Speculation , Precise exceptions å’Œ MMIO è®¿é—®ç­‰ã€‚
          <span class="footnote">[<a id="_footnoteref_1" class="footnote" href="" title="">The Transmeta Code Morphing
              Software: Using Speculation, Recovery, and Adaptive Retranslation to Address Real-Life
              Challenges</a>]</span>
        </p>
      </section>


      <section>
        <h2>æƒ³æ³•</h2>
        <p>Ramooflax</p>
        <img class="r-stretch" src="../../images/ramooflax.png">
        <p style="font-size:0.5em">
          ramooflax ç´§æ¥ç€ BIOS ä¹‹åè¿è¡Œï¼Œä¹‹åå…¶å¯ä»¥å°† native çš„ os æ”¾åˆ°è™šæ‹Ÿæœºä¸­è¿è¡Œã€‚
          <span class="footnote">[<a id="_footnoteref_1" class="footnote"
              href="https://github.com/airbus-seclab/ramooflax"
              title="">https://github.com/airbus-seclab/ramooflax</a>]</span> <br>
          è¿™å¯å‘æˆ‘ä»¬ï¼ŒQEMU + unikernel çš„åˆ¶ä½œå¯ä»¥é‡‡å–ç±»ä¼¼çš„è¿è¡Œæµç¨‹ï¼Œåªæ˜¯éœ€è¦å°† intel vmx åŠ é€Ÿçš„è™šæ‹ŸåŒ–æ›¿æ¢ä¸ºäºŒè¿›åˆ¶ç¿»è¯‘å™¨å³å¯ã€‚è€Œä¸”ï¼Œhost å°†è®¾å¤‡å®Œå…¨äº¤ç»™ guest
          ç®¡ç†ï¼Œè¯æ˜äº†è®¾å¤‡ç›´é€šçš„å¯è¡Œæ€§ã€‚
        </p>
      </section>

      <section>
        <h2>æƒ³æ³•</h2>
        <p>Captive</p>
        <img class="r-stretch" src="../../images/captive.png">
        <p style="font-size:0.5em"> captive å°†äºŒè¿›åˆ¶ç¿»è¯‘å™¨æ”¾åˆ° guest æ€ä»è€Œå…¶å¯ä»¥è·å–ç›´æ¥è®¿é—®ç³»ç»Ÿèµ„æºçš„èƒ½åŠ›ã€‚
          <span class="footnote">[<a id="_footnoteref_1" class="footnote" href="" title="">A Retargetable System-Level
              DBT Hypervisor</a>]</span>
          <br>è¿™å¯å‘æˆ‘ä»¬, å…¶å®å¯ä»¥å°†äºŒè¿›åˆ¶ç¿»è¯‘å™¨ç›´æ¥æ”¾åˆ°è£¸é‡‘å±ä¸Šã€‚
        </p>
      </section>


      <section>
        <h2>è®¾è®¡</h2>
        <div class="text-left">
          <ul>
            <li>ç®€åŒ– QEMU å’Œ Linux Kernel çš„è½¯ä»¶æ ˆ</li>
            <li>åˆ©ç”¨ä¸Š x86-qemu-mips å’Œ hamt çš„ä¼˜åŒ–</li>
            <li>BIOS å¯åŠ¨ä¹‹åæ‰§è¡Œç¿»è¯‘å™¨ï¼Œç„¶åè®© guest ç›´æ¥æ¥ç®¡ç¡¬ä»¶èµ„æº</li>
          </ul>
        </div>
      </section>


      <section>
        <h2>è®¾è®¡</h2>
        <img class="r-stretch" src="../../images/bmbt.svg">
      </section>

      <section>
        <h2>è¿›åº¦</h2>
        <div class="r-stretch" style="font-size:0.8em">
          <ul>
            <li style="color:#d48ca7"> èƒŒæ™¯è°ƒæŸ¥</li>
            <li style="color:#d48ca7"> æ¶æ„è®¾è®¡</li>
            <li style="color:#d48ca7"> QEMU çš„ä»£ç æ¬è¿</li>
            <ul style="color:#d48ca7">
              <li>æšä¸¾å‡ºæ¥ä¾èµ–çš„å¤–éƒ¨åº“</li>
              <li>æšä¸¾å‡ºæ¥éœ€è¦é‡æ„çš„æ¥å£</li>
            </ul>
            <li>ç”¨æˆ·æ€æµ‹è¯• SeaBIOS ä»£ç </li>
            <li>ç§»é™¤ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“</li>
            <li>æ„å»ºè£¸æœºè¿è¡Œç¯å¢ƒ ğŸ™‹</li>
            <li>è£¸æœºæµ‹è¯• 32bit x86 Linux</li>
            <li style="color:#dbb330">è£¸æœºæµ‹è¯• xp</li>
            <li style="color:#dbb330">ç§»æ¤ HAMT</li>
            <li style="color:#dbb330">64bit æ”¯æŒ</li>
            <li style="color:#dbb330">å¤šæ ¸æ”¯æŒ</li>
          </ul>
        </div>
      </section>

      <section>
        <h2>æºä»£ç </h2>
        <p>
          https://github.com/Martins3/BMBT
        </p>

        <p>
          å®Œæˆä¹‹æ—¶å°†ä¼šå¼€æº
        </p>
      </section>

      <section>
        <h2>æé—®</h2>
        <p>
          ğŸ‘¨ğŸ™‹ğŸ‘¨ğŸ‘¨ğŸ‘¨<br>
          ğŸ‘¨ğŸ‘¨ğŸ‘¨ğŸ™‹â€â™‚ï¸ğŸ‘¨<br>
          ğŸ‘¨ğŸ™‹ğŸ‘¨ğŸ‘¨ğŸ‘¨<br>
          ğŸ‘¨ğŸ™‹ğŸ‘¨ğŸ™‹â€â™‚ï¸ğŸ‘¨<br>
        </p>
      </section>

    </div>

    <script src="../../reveal.js/dist/reveal.js"></script>
    <script>
      Reveal.initialize({

        // Display the page number of the current slide
        // - true:    Show slide number
        // - false:   Hide slide number
        //
        // Can optionally be set as a string that specifies the number formatting:
        // - "h.v":   Horizontal . vertical slide number (default)
        // - "h/v":   Horizontal / vertical slide number
        // - "c":   Flattened slide number
        // - "c/t":   Flattened slide number / total slides
        //
        // Alternatively, you can provide a function that returns the slide
        // number for the current slide. The function should take in a slide
        // object and return an array with one string [slideNumber] or
        // three strings [n1,delimiter,n2]. See #formatSlideNumber().
        slideNumber: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: true,

        // Change the presentation direction to be RTL
        rtl: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the question-mark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autolaying embedded media (video/audio/iframe)
        // - null:   Media will only autoplay if data-autoplay is present
        // - true:   All media will autoplay, regardless of individual setting
        // - false:  No media will autoplay, regardless of individual setting
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes
        // - null:   Iframes with data-src AND data-preload will be loaded when within
        //           the viewDistance, iframes with only data-src will be loaded when visible
        // - true:   All iframes with data-src will be loaded when within the viewDistance
        // - false:  All iframes with data-src will be loaded only when visible
        preloadIframes: null,

        // Can be used to globally disable auto-animation
        autoAnimate: true,

        // Optionally provide a custom element matcher that will be
        // used to dictate which elements we can animate between.
        autoAnimateMatcher: null,

        // Default settings for our auto-animate transitions, can be
        // overridden per-slide or per-element via data arguments
        autoAnimateEasing: 'ease',
        autoAnimateDuration: 1.0,
        autoAnimateUnmatched: true,

        // CSS properties that can be auto-animated. Position & scale
        // is matched separately so there's no need to include styles
        // like top/right/bottom/left, width/height or margin.
        autoAnimateStyles: [
          'opacity',
          'color',
          'background-color',
          'padding',
          'font-size',
          'line-height',
          'letter-spacing',
          'border-width',
          'border-color',
          'border-radius',
          'outline',
          'outline-offset'
        ],

        // Controls automatic progression to the next slide
        // - 0:      Auto-sliding only happens if the data-autoslide HTML attribute
        //           is present on the current slide or fragment
        // - 1+:     All slides will progress automatically at the given interval
        // - false:  No auto-sliding, even if data-autoslide is present
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding (defaults to navigateNext)
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // Opens links in an iframe preview overlay
        // Add `data-preview-link` and `data-preview-link="false"` to customise each link
        // individually
        previewLinks: false,

        // Exposes the reveal.js API through window.postMessage
        postMessage: true,

        // Dispatches all reveal.js events to the parent window through postMessage
        postMessageEvents: false,

        // Focuses body when page changes visibility to ensure keyboard shortcuts work
        focusBodyOnPageVisibilityChange: true,

        // Transition style
        transition: 'convex', // none/fade/slide/convex/concave/zoom

        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

        // Number of slides away from the current that are visible
        viewDistance: 1000,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000
      });
    </script>
</body>

</html>
